{"version":3,"sources":["file:///D:/program/cocos/project/FlappyBird/assets/scripts/UI/GameOverUI.ts"],"names":["_decorator","Component","director","Label","Node","ccclass","property","GameOverUI","show","curScore","bestScore","node","active","curScoreLabel","string","toString","bestScoreLabel","newSprite","index","indexInt","Math","floor","medalArray","hide","onPlayButtonClick","console","log","getScene","name","loadScene"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;;;;;;;;OAC3C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAGjBO,U,WADZF,OAAO,CAAC,YAAD,C,UAELC,QAAQ,CAACH,KAAD,C,UAGRG,QAAQ,CAACH,KAAD,C,UAGRG,QAAQ,CAACF,IAAD,C,UAGRE,QAAQ,CAAC,CAACF,IAAD,CAAD,C,2BAXX,MACaG,UADb,SACgCN,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAajCO,QAAAA,IAAI,CAACC,QAAD,EAAmBC,SAAnB,EAAsC;AAC/C,eAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB,CAD+C,CAE/C;;AACA,eAAKC,aAAL,CAAmBC,MAAnB,GAA4BL,QAAQ,CAACM,QAAT,EAA5B;AACA,eAAKC,cAAL,CAAoBF,MAApB,GAA6BJ,SAAS,CAACK,QAAV,EAA7B;;AACA,cAAIN,QAAQ,GAAGC,SAAf,EAA0B;AACxB,iBAAKO,SAAL,CAAeL,MAAf,GAAwB,IAAxB;AACD,WAFD,MAEO;AACL,iBAAKK,SAAL,CAAeL,MAAf,GAAwB,KAAxB;AACD,WAT8C,CAW/C;;;AACA,cAAMM,KAAK,GAACT,QAAQ,GAAC,EAArB;AACA,cAAIU,QAAQ,GAACC,IAAI,CAACC,KAAL,CAAWH,KAAX,CAAb;;AACA,cAAGC,QAAQ,GAAC,CAAZ,EAAc;AACZA,YAAAA,QAAQ,GAAC,CAAT;AACD;;AACD,eAAKG,UAAL,CAAgBH,QAAhB,EAA0BP,MAA1B,GAAiC,IAAjC;AAED;;AAEMW,QAAAA,IAAI,GAAG;AACZ,eAAKZ,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACD;;AAEDY,QAAAA,iBAAiB,GAAE;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCxB,QAAQ,CAACyB,QAAT,GAAoBC,IAAvD;AACD1B,UAAAA,QAAQ,CAAC2B,SAAT,CAAmB3B,QAAQ,CAACyB,QAAT,GAAoBC,IAAvC;AACD;;AAzCuC,O;;;;;iBAEjB,I;;;;;;;iBAGC,I;;;;;;;iBAGN,I;;;;;;;iBAGG,E","sourcesContent":["import { _decorator, Component, director, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"GameOverUI\")\r\nexport class GameOverUI extends Component {\r\n  @property(Label)\r\n  curScoreLabel: Label = null;\r\n\r\n  @property(Label)\r\n  bestScoreLabel: Label = null;\r\n\r\n  @property(Node)\r\n  newSprite: Node = null;\r\n\r\n  @property([Node])\r\n  medalArray: Node[] = [];\r\n\r\n  public show(curScore: number, bestScore: number) {\r\n    this.node.active = true;\r\n    //分数更新\r\n    this.curScoreLabel.string = curScore.toString();\r\n    this.bestScoreLabel.string = bestScore.toString();\r\n    if (curScore > bestScore) {\r\n      this.newSprite.active = true;\r\n    } else {\r\n      this.newSprite.active = false;\r\n    }\r\n\r\n    //0-9\r\n    const index=curScore/10\r\n    let indexInt=Math.floor(index)\r\n    if(indexInt>3){\r\n      indexInt=3\r\n    }\r\n    this.medalArray[indexInt].active=true\r\n\r\n  }\r\n\r\n  public hide() {\r\n    this.node.active = false;\r\n  }\r\n\r\n  onPlayButtonClick(){\r\n     console.log(\"Current scene name:\", director.getScene().name);\r\n    director.loadScene(director.getScene().name)\r\n  }\r\n}\r\n\r\n\r\n"]}