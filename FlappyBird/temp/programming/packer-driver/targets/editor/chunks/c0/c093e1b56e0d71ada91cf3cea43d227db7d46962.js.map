{"version":3,"sources":["file:///D:/program/cocos/project/FlappyBird/assets/scripts/GameData.ts"],"names":["GameData","_decorator","ccclass","property","addScore","count","_score","getScore","getBestScore","score","localStorage","getItem","BESTSCORE","parseInt","saveScore","curScore","bestScore","setItem","toString"],"mappings":";;;8EAIaA,Q;;;;;;;;;AAJJC,MAAAA,U,OAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBF,U;;0BAGjBD,Q,GAAN,MAAMA,QAAN,CAAc;AAIK,eAARI,QAAQ,CAACC,KAAY,GAAC,CAAd,EAAgB;AAClC,eAAKC,MAAL,IAAeD,KAAf;AACH,SANgB,CAQjB;;;AACsB,eAARE,QAAQ,GAAS;AAC3B,iBAAO,KAAKD,MAAZ;AACH,SAXgB,CAajB;;;AAC0B,eAAZE,YAAY,GAAE;AACxB,cAAIC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,KAAKC,SAA1B,CAAV;;AACA,cAAGH,KAAH,EAAS;AACL,mBAAOI,QAAQ,CAACJ,KAAD,CAAf;AACH,WAFD,MAEK;AACD,mBAAO,CAAP;AACH;AACJ;;AAEsB,eAATK,SAAS,GAAE;AACrB,cAAIC,QAAQ,GAAC,KAAKR,QAAL,EAAb;AACA,cAAIS,SAAS,GAAC,KAAKR,YAAL,EAAd;;AACA,cAAGO,QAAQ,GAACC,SAAZ,EAAsB;AAClBN,YAAAA,YAAY,CAACO,OAAb,CAAqB,KAAKL,SAA1B,EAAoCG,QAAQ,CAACG,QAAT,EAApC;AACH;AACJ;;AA7BgB,O;;AAARlB,MAAAA,Q,CACeY,S,GAAiB,W;AADhCZ,MAAAA,Q,CAEMM,M,GAAc,C","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\nexport class GameData{\r\n    private static readonly BESTSCORE:string=\"BestScore\"\r\n    private static _score:number=0;\r\n\r\n    public static addScore(count:number=1){\r\n        this._score += count;\r\n    }\r\n\r\n    // 获得当前分数\r\n    public static getScore():number{\r\n        return this._score\r\n    }\r\n\r\n    // 本地存储\r\n    public static getBestScore(){\r\n        let score=localStorage.getItem(this.BESTSCORE);\r\n        if(score){\r\n            return parseInt(score)\r\n        }else{\r\n            return 0\r\n        }\r\n    }\r\n\r\n    public static saveScore(){\r\n        let curScore=this.getScore();\r\n        let bestScore=this.getBestScore()\r\n        if(curScore>bestScore){\r\n            localStorage.setItem(this.BESTSCORE,curScore.toString())\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}